#!/usr/bin/python

import os, sys, httplib, urlparse, socket, urllib2
from urllib2 import Request, urlopen, URLError, HTTPError

dst_method = "POTATO"

def Connect(method,url):
	try:
		opener = urllib2.build_opener(urllib2.HTTPHandler)	
		request = urllib2.Request(url)
		request.get_method = lambda: 'POTATO'
		resp = opener.open(request)
	except HTTPError, e:
		return e.code
	except URLError, e:
		return 1

	if method == 1: #If being called from the "Detect" module
		return resp.code
	elif method == 2: #If being called from the "FullList" module
		return resp.read()
